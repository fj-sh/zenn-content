---
title: "JavaScriptã®é…åˆ—ã¨æ¡ä»¶å¼ã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«æ›¸ã"
emoji: "ğŸ™Œ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["javascript"]
published: true
---

é…åˆ—ã¨æ¡ä»¶å¼ã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«æ›¸ãæ–¹æ³•ã®è¨˜éŒ²ã€‚

## æ¡ä»¶å¼ã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«æ›¸ã

### `||` ã‚’ã¤ã‹ã£ã¦ã‚·ãƒ³ãƒ—ãƒ«ã«ã™ã‚‹

Beforeï¼š

```js
function getIconPath(icon) {
  const path = icon.path ? icon.path : "default.png";
  return `http://assets.foo.com/${path}`;
}
```

ä¸Šã®ä¾‹ã ã¨ã€`icon.path` ã‚’ 2 å›æ›¸ã„ã¦ã„ã‚‹ã€‚

`||` ã§ã‚·ãƒ³ãƒ—ãƒ«ã«ã§ãã‚‹ã€‚

Afterï¼š

```js
function getIconPath(icon) {
  const path = icon.path || "default.png";
  return `http://assets.foo.com/${path}`;
}
```

`||`ã¯è«–ç†å’Œï¼ˆOR operatorï¼‰ã¨ã„ã†ã€‚

[è«–ç†å’Œ (||)](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/Logical_OR)

[StackOverFlow](https://stackoverflow.com/questions/2100758/javascript-or-variable-assignment-explanation)ã®ä¾‹ãŒã‚ã‹ã‚Šã‚„ã™ã„ã€‚

```js
"foo" || "bar"; // returns "foo"
false || "bar"; // returns "bar"
```

- false
- 0
- null
- undefined
- NaN
- ''
- ""

ã¯ false ã¨ã¿ãªã•ã‚Œã‚‹ã€‚

### é…åˆ—ãŒ undefined ã§ã¯ãªã„ã‹åˆ¤æ–­ã—ã¦å¤‰æ•°ã«ä»£å…¥ã™ã‚‹

- é…åˆ—ãŒå­˜åœ¨ã—ãªã„å ´åˆã‚‚ã‚ã‚‹
- é…åˆ—ãŒç©ºã®å ´åˆãŒã‚ã‚‹

ã¨ã„ã†å‰æã§ã€ã©ã†ã‚„ã£ã¦ null ãƒã‚§ãƒƒã‚¯ã—ã¦ã„ãã‹ï¼Ÿ

ä»¥ä¸‹ã®ä¾‹ã ã¨ã€

```js
function getFirstImage(userConfig) {
  const img = userConfig.images[0] || "default.png";
  // TypeError: Cannot read property '0' of undefined
  return img;
}

// é…åˆ—ãŒå­˜åœ¨ã—ãªã„å ´åˆ
const userConfig = {};
const img = getFirstImage(userConfig);
console.log(img);
```

`length`ã§é•·ã•ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã‚‚ã€é…åˆ—ãŒç©ºã®å ´åˆã¯ `undefined` ã¨ãªã‚‹ã€‚

```js
function getFirstImage(userConfig) {
  let img = "default.png";
  if (userConfig.images) {
    img = userConfig.images[0];
  }
  return img;
  // undefined
}

const userConfig = {
  images: [],
};
```

é…åˆ—ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã¨ã€é…åˆ—ã®é•·ã•ãŒ 0 ã§ãªã„ã“ã¨ã‚’ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼ã§ç¢ºèªã™ã‚‹ã€‚

```js
function getFirstImage(userConfig) {
  const images = userConfig.images;
  return images && images.length ? images[0] : "default.png";
}

const userConfig = {
  images: [],
};
const img = getFirstImage(userConfig);
console.log(img); // default.png
```

## Array

### é…åˆ—ã«å€¤ãŒå­˜åœ¨ã™ã‚‹ã‹ã©ã†ã‹ã¯`indexOf`ã‚’ä½¿ã‚ãšã«ã€`includes()`ã§ç¢ºèªã™ã‚‹

```js
const sections = ["contact", "shipping"];

function displayShipping(sections) {
  return sections.includes("shipping");
}

console.log(displayShipping(sections)); // true
```

`indexOf` ã¯ã€Œé…åˆ—ã® indexã€ã‚’è¿”ã™ãŸã‚ã€`0`ã‚’è¿”ã™ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚
JavaScript ã§ã¯æ•°å€¤ã® 0 ã‚’ false ã¨ã¿ãªã™ãŸã‚ã€äºˆæœŸã›ã¬ãƒã‚°ã«é­é‡ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚

> includes() ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€ç‰¹å®šã®è¦ç´ ãŒé…åˆ—ã«å«ã¾ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’ true ã¾ãŸã¯ false ã§è¿”ã—ã¾ã™ã€‚

> indexOf() ãƒ¡ã‚½ãƒƒãƒ‰ã¯å¼•æ•°ã«ä¸ãˆã‚‰ã‚ŒãŸå†…å®¹ã¨åŒã˜å†…å®¹ã‚’æŒã¤æœ€åˆã®é…åˆ—è¦ç´ ã®æ·»å­—ã‚’è¿”ã—ã¾ã™ã€‚å­˜åœ¨ã—ãªã„å ´åˆã¯ -1 ã‚’è¿”ã—ã¾ã™ã€‚

- [Array.prototype.includes()](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Array/includes)
- [Array.prototype.indexOf()](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf)
- [JavaScript ã§ false ã«ãªã‚‹ã‚‚ã®](https://qiita.com/katsuo5/items/ffb8b83c6b8a6dcbd9d6)

### é…åˆ—ã‹ã‚‰ç‰¹å®šã®å€¤ã‚’é™¤å¤–ã™ã‚‹ã¨ãã¯`slice()`ã¨ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ§‹æ–‡ã‚’çµ„ã¿åˆã‚ã›ã‚‹

```js
const items = [1, 2, 3, 4, 5, 6];

function removeItem(items, removable) {
  const index = items.indexOf(removable);
  return [...items.slice(0, index), ...items.slice(index + 1)];
}

console.log(removeItem(items, 1)); // [ 2, 3, 4, 5, 6 ]
```

- `splice()`ã¯å…ƒã®é…åˆ—ã‚’å¤‰æ›´ã™ã‚‹ã®ã§ä½¿ã‚ãªã„
- `slice()`ã¯å…ƒã®é…åˆ—ã‚’å¤‰æ›´ã›ãšã€æ–°ãŸã«é…åˆ—ã‚’è¿”ã™
- 2 ã¤ã®é…åˆ—ã‚’çµåˆã™ã‚‹`concat()`ã¨ã„ã†ãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚ã‚‹ãŒã€ä»–ã®é–‹ç™ºè€…ãŒ`concat()`ã®ä½¿ã„æ–¹ã‚’çŸ¥ã£ã¦ã„ãªã„ã¨ä¸€è¦‹ã—ã¦æ„å‘³ãŒã‚ã‹ã‚‰ãªã„
- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ§‹æ–‡ã¯è¦‹ãŸç›®ã‹ã‚‰å‹•ä½œãŒäºˆæ¸¬ã—ã‚„ã™ã„

> slice() ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€start ã¨ end ãŒé…åˆ—ã®ä¸­ã®é …ç›®ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’è¡¨ã—ã¦ã„ã‚‹å ´åˆã€start ã‹ã‚‰ end ã¾ã§ (end ã¯å«ã¾ã‚Œãªã„) ã§é¸æŠã•ã‚ŒãŸé…åˆ—ã®ä¸€éƒ¨ã®æµ…ã„ã‚³ãƒ”ãƒ¼ã‚’æ–°ã—ã„é…åˆ—ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ä½œæˆã—ã¦è¿”ã—ã¾ã™ã€‚å…ƒã®é…åˆ—ã¯å¤‰æ›´ã•ã‚Œã¾ã›ã‚“ã€‚

> ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ§‹æ–‡ (...) ã‚’ä½¿ã†ã¨ã€é…åˆ—å¼ã‚„æ–‡å­—åˆ—ãªã©ã®åå¾©å¯èƒ½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã€0 å€‹ä»¥ä¸Šã®å¼•æ•° (é–¢æ•°å‘¼ã³å‡ºã—ã®å ´åˆ) ã‚„è¦ç´  (é…åˆ—ãƒªãƒ†ãƒ©ãƒ«ã®å ´åˆ) ã‚’æœŸå¾…ã•ã‚ŒãŸå ´æ‰€ã§å±•é–‹ã—ãŸã‚Šã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå¼ã‚’ã€0 å€‹ä»¥ä¸Šã®ã‚­ãƒ¼ã¨å€¤ã®çµ„ (ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒªãƒ†ãƒ©ãƒ«ã®å ´åˆ) ã‚’æœŸå¾…ã•ã‚ŒãŸå ´æ‰€ã§å±•é–‹ã—ãŸã‚Šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

- [Array.prototype.indexOf](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf)
- [Array.prototype.slice()](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Array/slice)
- [Array.prototype.splice()](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Array/splice)
- [ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ§‹æ–‡](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/Spread_syntax)

### é…åˆ—ã«å€¤ã‚’è¿½åŠ ã™ã‚‹ã¨ãã¯ `push()` ã‚’ä½¿ã‚ãªã„

```js
const titles = ["ONE PIECE", "Jyujyutsu Kaisen"];
const moreTitles = [...titles, "SAKAMOTO DAYS"]; // [ 'ONE PIECE', 'Jyujyutsu Kaisen', 'SAKAMOTO DAYS' ]
const moreShiftTitles = ["Dr. Stone", ...titles]; //  [ 'Dr. Stone', 'ONE PIECE', 'Jyujyutsu Kaisen' ]
const copiedTitles = titles.slice(); //  [ 'ONE PIECE', 'Jyujyutsu Kaisen' ]
const moreCopiedTitles = [...titles]; // [ 'ONE PIECE', 'Jyujyutsu Kaisen' ]
```

- `push()` ã¯å…ƒã®é…åˆ—ã‚’ç ´å£Šçš„ã«å¤‰æ›´ã—ã¦ã—ã¾ã†ã®ã§ä½¿ã‚ãªã„
- `shift()` ã‚‚å…ƒã®é…åˆ—ã‚’ç ´å£Šçš„ã«å¤‰æ›´ã—ã¦ã—ã¾ã†ã®ã§ä½¿ã‚ãªã„

é…åˆ—ã®è¿½åŠ ã¯ `[...array, 'ADD ITEM'] ` ã®ã‚ˆã†ã«æ›¸ãã€‚
é…åˆ—ã®å…ˆé ­ã«è¿½åŠ ã¯ `['ADD ITEM', ...array]` ã®ã‚ˆã†ã«æ›¸ãã€‚

> push() ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€é…åˆ—ã®æœ«å°¾ã« 1 ã¤ä»¥ä¸Šã®è¦ç´ ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã¾ãŸæˆ»ã‚Šå€¤ã¨ã—ã¦æ–°ã—ã„é…åˆ—ã®è¦ç´ æ•°ã‚’è¿”ã—ã¾ã™ã€‚

- [Array.prototype.push()](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Array/push)

> shift() ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€é…åˆ—ã‹ã‚‰æœ€åˆã®è¦ç´ ã‚’å–ã‚Šé™¤ãã€ãã®è¦ç´ ã‚’è¿”ã—ã¾ã™ã€‚ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯é…åˆ—ã®é•·ã•ã‚’å¤‰ãˆã¾ã™ã€‚

- [Array.prototype.shift()](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Array/shift)
