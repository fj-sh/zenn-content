---
title: "Vue3 + Composition API ã§ãƒ•ã‚©ãƒ¼ãƒ æ“ä½œ"
emoji: "ğŸ—‚"
type: "tech"
topics: ["vue"]
published: true
---

Vue3 ã‚’ä½¿ã£ã¦ãƒ•ã‚©ãƒ¼ãƒ æ“ä½œã®ã‚µãƒ³ãƒ—ãƒ«ã‚’ä½œã‚Šã¾ã™ã€‚ 

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ

```console
$ vue create form-handling

? Please pick a preset: Manually select features
? Check the features needed for your project: Choose Vue version, TS, Linter
? Choose a version of Vue.js that you want to start the project with 3.x
? Use class-style component syntax? No
? Use Babel alongside TypeScript (required for modern mode, auto-detected polyfills, transpiling JSX)? No
? Pick a linter / formatter config: Prettier
? Pick additional lint features: Lint on save
? Where do you prefer placing config for Babel, ESLint, etc.? In dedicated config files
? Save this as a preset for future projects? No
```
## Semantic UI Vueã®å°å…¥

è¦‹ãŸç›®ã‚’æ•´ãˆã‚‹ãŸã‚ã« [Semantic UI Vue](https://semantic-ui-vue.github.io/#/) ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```console
$ npm install semantic-ui-css --save
```

```typescript:src/main.ts
import { createApp } from "vue";
import App from "./App.vue";
import "semantic-ui-css/semantic.min.css";  # add this line.

createApp(App).mount("#app");
```

## `@click` ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™ºç”Ÿã•ã›ã‚‹

ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€`console.log` ã«ã‚³ãƒ¡ãƒ³ãƒˆã‚’å‡ºåŠ›ã™ã‚‹ã€‚

```vue
<template>
  <div>
    <button
      class="ui button"
      @click="onSampleClick()"
    >
      Sample
    </button>
  </div>
</template>
<script lang="ts">
import { defineComponent } from "vue";

export default defineComponent({
  name: "ButtonRow",
  setup(_props) {
    const onSampleClick = () => {
      console.log('The user clicked button-sample');
    }
    return {
      onSampleClick,
    }
  },
});
</script>

</script>
```


## `v-model`ã§`input`ã®å€¤ã‚’åŒæœŸã™ã‚‹

![](https://storage.googleapis.com/zenn-user-upload/e3771e9ab42c510475cfb6b7.png)

Submit ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€`console.log`ã« `input` ã«å…¥åŠ›ã—ãŸå€¤ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

```vue
<template>
  <div class="input-form">
    <form
      novalidate
      class="ui form"
      @submit.prevent="onSubmit"
    >
      <div class="field">
        <input
          v-model="newItem"
          type="text"
          placeholder="Add an item!"
        >
      </div>
      <button
        type="submit"
        class="ui button"
      >
        Submit
      </button>
    </form>
    <div />
  </div>
</template>
<script lang="ts">
import { defineComponent, ref } from "vue";

export default defineComponent({
  name: "SampleInput",
  setup(_props) {
    const newItem = ref<String>('')
    const onSubmit = () => {
      console.log('New Item:', newItem.value);
    }
    return {
      onSubmit,
      newItem
    }
  },
});
</script>

```

## `input`ã®å€¤ã‚’é…åˆ—ã«è¿½åŠ ã—ã¦ãƒªã‚¹ãƒˆã§è¡¨ç¤º

![](https://storage.googleapis.com/zenn-user-upload/96703387a12cf40774401497.png)

ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«æ–‡å­—ã‚’å…¥ã‚Œã¦ã€ Enter ã‚’æŠ¼ã™ãŸã³ã«ãƒªã‚¹ãƒˆãŒè¿½åŠ ã•ã‚Œã¦ã„ãã¾ã™ã€‚

```vue
<template>
  <div class="input-form">
    <form
      novalidate
      class="ui form"
      @submit.prevent="onSubmit"
    >
      <div class="field">
        <input
          v-model="newItem"
          type="text"
          placeholder="Add an item!"
        >
      </div>
      <button
        type="submit"
        class="ui button"
      >
        Submit
      </button>
    </form>
    <div class="ui segment">
      <h4 class="ui header">
        Items
      </h4> <ul>
        <li
          v-for="item in items"
          :key="item"
          class="item"
        >
          {{ item }}
        </li>
      </ul>
    </div>
    <div />
  </div>
</template>
<script lang="ts">
import { defineComponent, ref } from "vue";

export default defineComponent({
  name: "SampleInput",
  setup(_props) {
    const newItem = ref<String>('')
    const items = ref<Array<String>>([])
    const onSubmit = () => {
      console.log('New Item:', newItem.value);
      items.value.push(newItem.value)
      newItem.value = ''
    }
    return {
      onSubmit,
      newItem,
      items
    }
  },
});
</script>

```

## è¤‡æ•°ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ã‚’åŒæœŸã—ã¦è¡¨ç¤ºã™ã‚‹

ä»¥ä¸‹ã®è¤‡æ•°ã®ã‚¿ã‚¤ãƒ—ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ã‚’åŒæœŸã•ã›ã¦ç”»é¢ã«è¡¨ç¤ºã•ã›ã¦ã¿ã‚‹ã€‚

- `input`
- `email`
- `select`
- `input type="checkbox"`

![](https://storage.googleapis.com/zenn-user-upload/2f38ef837b7b660bd09e214c.png)

```vue
<template>
  <div class="input-form">
    <form
      novalidate
      class="ui form"
      @submit.prevent="onSubmit"
    >
      <div class="field">
        <label>New Item</label>
        <input
          v-model="field.newItem"
          type="text"
          placeholder="Add an item!"
        >
      </div>
      <div class="field">
        <label>Email</label>
        <input
        v-model="field.email"
        type="text"
        placeholder="What's your email?"
        />
      </div>
      <div class="field">
        <label>Urgency</label>
        <select v-model="field.urgency" class="ui fluid search dropdown">
          <option disabled value="">Please select one</option>
          <option>Nonessential</option>
          <option>Moderate</option>
          <option>Urgent</option>
        </select>
      </div>
      <div class="field">
        <div class="ui checkbox">
          <input v-model="field.termsAndConditions" type="checkbox" />
          <label>I accept the terms and conditions</label>
        </div>
      </div>
      <button
        type="submit"
        class="ui button"
      >
        Submit
      </button>
    </form>
    <div class="ui segment">
      newItem: {{ field.newItem }} <br/>
      email: {{ field.email }} <br/>
      urgency: {{ field.urgency }} <br/>
      termsAndConditions: {{ field.termsAndConditions }} <br/>
      <h4 class="ui header">Items</h4>
      <ul>
        <li
          v-for="item in field.items"
          :key="item"
          class="item"
        >
          {{ item }}
        </li>
      </ul>
    </div>
    <div />
  </div>
</template>
<script lang="ts">
import { defineComponent, ref } from "vue";

interface Field {
  newItem: string,
  email: string,
  items: string[],
  urgency: string,
  termsAndConditions: boolean
}
export default defineComponent({
  name: "SampleInput",

  setup(_props) {

    const field = ref<Field>({
      newItem: '',
      email: '',
      items: [],
      urgency: '',
      termsAndConditions: false
    })

    const onSubmit = () => {
      field.value.items.push(field.value.newItem)
      field.value.newItem = ''
    }
    return {
      onSubmit,
      field: field.value
    }
  },
});
</script>

```

## å‚è€ƒ

[Vue JS 3 Composition API â†’ Registration Form Validation [2021]](https://softauthor.com/vue-js-3-composition-api-reusable-scalable-form-validation/)