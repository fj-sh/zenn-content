---
title: "macOS Big Surã‚’ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã—ãŸã‚‰docker-composeã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ"
emoji: "ğŸ’¬"
type: "tech"
topics: ["docker"]
published: true
---

2021å¹´5æœˆ2æ—¥ï¼ˆæ—¥ï¼‰ã«macOS BigSurã‚’ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 11.3 ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã—ãŸã‚‰ã€`docker-compse`ã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚


```
% docker-compose up
Traceback (most recent call last):
  File "site-packages/urllib3/connectionpool.py", line 677, in urlopen
  File "site-packages/urllib3/connectionpool.py", line 392, in _make_request
  File "http/client.py", line 1252, in request
  File "http/client.py", line 1298, in _send_request
  File "http/client.py", line 1247, in endheaders
  File "http/client.py", line 1026, in _send_output
  File "http/client.py", line 966, in send
  File "site-packages/docker/transport/unixconn.py", line 43, in connect
FileNotFoundError: [Errno 2] No such file or directory
During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "docker-compose", line 3, in <module>
  File "compose/cli/main.py", line 67, in main
  File "compose/cli/main.py", line 123, in perform_command
  File "compose/cli/command.py", line 69, in project_from_options
  File "compose/cli/command.py", line 132, in get_project
  File "compose/cli/docker_client.py", line 43, in get_client
  File "compose/cli/docker_client.py", line 170, in docker_client
  File "site-packages/docker/api/client.py", line 188, in __init__
  File "site-packages/docker/api/client.py", line 213, in _retrieve_server_version
docker.errors.DockerException: Error while fetching server API version: ('Connection aborted.', FileNotFoundError(2, 'No such file or directory'))
```

ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰å‰ã«å©ã„ãŸã‚³ãƒãƒ³ãƒ‰ã¯ä¸‹è¨˜ã€‚
```
% brew upgrade

Please update your Command Line Tools (CLT) or delete it if no updates are available.
Update them from Software Update in System Preferences or run:
  softwareupdate --all --install --force

If that doesn't show you any updates, run:
  sudo rm -rf /Library/Developer/CommandLineTools
  sudo xcode-select --install

Alternatively, manually download them from:
  https://developer.apple.com/download/more/.
  
% softwareupdate --all --install --force
% sudo rm -rf /Library/Developer/CommandLineTools
% sudo xcode-select --install
```

|ã‚³ãƒãƒ³ãƒ‰|æ„å‘³|
| --- | --- |
|brew upgrade|Homebrewã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã«åŠ ãˆã¦ã€Homebrewã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚‚è¡Œã†|
|xcode-select --install|Command Line Toolsã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹|

## çµè«–

Docker ãƒ‡ãƒ¼ãƒ¢ãƒ³ã‚’èµ·å‹•ã•ã›ã¾ã—ã‚‡ã†ã€‚
Docker Desktopã‚’å‹•ã‹ã™ã ã‘ã§è§£æ¶ˆã—ã¾ã—ãŸã€‚

ã“ã‚“ãªçµè«–ã§ç”³ã—è¨³ãªã„ã¨æ€ã„ã¤ã¤ã€ã‚‚ã—ã‹ã—ãŸã‚‰ãƒãƒã£ã¦æ¤œç´¢ã§ãŸã©ã‚Šç€ãäººã‚‚ã„ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã®ã§ã€è¨˜äº‹ã¨ã—ã¦æ®‹ã—ã¾ã™ã€‚

Docker ãŒã¡ã‚ƒã‚“ã¨å‹•ã„ã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ã¿ã¦ãã ã•ã„ã€‚

## å‰¯ç”£ç‰©

Pythonã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ 2.7.16 ã‹ã‚‰3.9.4ã«ã‚ã’ã¦ã¿ã¾ã—ãŸã€‚
```
% python -V
Python 2.7.16
% brew install pyenv
% pyenv -v
pyenv 1.2.27
% echo 'eval "$(pyenv init -)"' >> ~/.zshrc
% pyenv install 3.9.4
% pyenv versions
% pyenv global 3.9.4
% pyenv versions
  system
* 3.9.4 (set by /Users/hoge/.pyenv/version)
```